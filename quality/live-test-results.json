{
  "timestamp": "2026-02-22T09:39:05.402764+00:00",
  "ha_version": "2026.2.2",
  "duration": 8.23,
  "summary": {
    "total": 19,
    "passed": 19,
    "failed": 0,
    "warned": 0,
    "success_rate": 100.0
  },
  "tests": [
    {
      "name": "WS Connect + Auth",
      "status": "PASS",
      "duration": 0.057,
      "details": "Connected to HA 2026.2.2",
      "data": null
    },
    {
      "name": "Default Query",
      "status": "PASS",
      "duration": 0.006,
      "details": "212 total, 20 returned, statuses={'critical': 12, 'warning': 4, 'healthy': 159, 'unavailable': 37}",
      "data": null
    },
    {
      "name": "Pagination limit=5",
      "status": "PASS",
      "duration": 0.008,
      "details": "Returned 5 devices, has_more=True",
      "data": null
    },
    {
      "name": "Offset Beyond Total",
      "status": "PASS",
      "duration": 0.004,
      "details": "Returned 0 devices (expected 0)",
      "data": null
    },
    {
      "name": "Sort Battery ASC",
      "status": "PASS",
      "duration": 0.006,
      "details": "First 5 levels: [0.0, 0.0, 0.0, 0.0, 0.0], sorted=True",
      "data": null
    },
    {
      "name": "Sort Battery DESC",
      "status": "PASS",
      "duration": 0.005,
      "details": "First 5 levels: [100.0, 100.0, 100.0, 100.0, 100.0], sorted=True",
      "data": null
    },
    {
      "name": "Sort Device Name ASC",
      "status": "PASS",
      "duration": 0.006,
      "details": "First 3: ['0x00124b0022ea8697 contact Battery', '0x00124b0022ebe230 contact Battery', '0x00124b0022ec14f2 contact Battery']",
      "data": null
    },
    {
      "name": "Full Query Performance",
      "status": "PASS",
      "duration": 0.009,
      "details": "212 devices, response in 9ms",
      "data": null
    },
    {
      "name": "Device Data Shape",
      "status": "PASS",
      "duration": 0.004,
      "details": "Missing fields: none, status=critical valid=True",
      "data": null
    },
    {
      "name": "Subscribe",
      "status": "PASS",
      "duration": 0.004,
      "details": "subscription_id=sub_6dd38ab843e5, status=subscribed",
      "data": null
    },
    {
      "name": "Set Global Threshold 25",
      "status": "PASS",
      "duration": 0.005,
      "details": "global_threshold=25",
      "data": null
    },
    {
      "name": "Verify Status After Threshold 25",
      "status": "PASS",
      "duration": 0.006,
      "details": "statuses={'critical': 16, 'warning': 2, 'healthy': 157, 'unavailable': 37}",
      "data": null
    },
    {
      "name": "Set Global Threshold 50",
      "status": "PASS",
      "duration": 0.006,
      "details": "global_threshold=50",
      "data": null
    },
    {
      "name": "Status With Threshold 50",
      "status": "PASS",
      "duration": 0.014,
      "details": "critical=35, warning=13 (expect more critical with t=50)",
      "data": null
    },
    {
      "name": "Set Per-Device Rule",
      "status": "PASS",
      "duration": 0.005,
      "details": "device_rules has 1 rules",
      "data": null
    },
    {
      "name": "Reset Threshold to 15",
      "status": "PASS",
      "duration": 0.012,
      "details": "global_threshold=15",
      "data": null
    },
    {
      "name": "Query limit=100",
      "status": "PASS",
      "duration": 0.015,
      "details": "Returned 100 devices",
      "data": null
    },
    {
      "name": "Zero Battery Devices",
      "status": "PASS",
      "duration": 0.011,
      "details": "Found 45 devices at 0%",
      "data": null
    },
    {
      "name": "Unavailable Devices",
      "status": "PASS",
      "duration": 0.01,
      "details": "Found 37 unavailable devices",
      "data": null
    }
  ]
}