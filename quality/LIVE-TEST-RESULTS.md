# Vulcan Brownout - Live Integration Test Results

**Test Date:** 2026-02-22 09:39:05 UTC
**Duration:** 8.23s
**HA Version:** 2026.2.2
**Tester:** Loki (QA)

## Summary

| Metric | Value |
|--------|-------|
| Total Tests | 19 |
| Passed | 19 ✅ |
| Failed | 0 ❌ |
| Warned | 0 ⚠️ |
| Success Rate | 100.0% |

## Results by Phase

### ✅ WS Connect + Auth (0.057s)
- **Status:** PASS
- **Details:** Connected to HA 2026.2.2

### ✅ Default Query (0.006s)
- **Status:** PASS
- **Details:** 212 total, 20 returned, statuses={'critical': 12, 'warning': 4, 'healthy': 159, 'unavailable': 37}

### ✅ Pagination limit=5 (0.008s)
- **Status:** PASS
- **Details:** Returned 5 devices, has_more=True

### ✅ Offset Beyond Total (0.004s)
- **Status:** PASS
- **Details:** Returned 0 devices (expected 0)

### ✅ Sort Battery ASC (0.006s)
- **Status:** PASS
- **Details:** First 5 levels: [0.0, 0.0, 0.0, 0.0, 0.0], sorted=True

### ✅ Sort Battery DESC (0.005s)
- **Status:** PASS
- **Details:** First 5 levels: [100.0, 100.0, 100.0, 100.0, 100.0], sorted=True

### ✅ Sort Device Name ASC (0.006s)
- **Status:** PASS
- **Details:** First 3: ['0x00124b0022ea8697 contact Battery', '0x00124b0022ebe230 contact Battery', '0x00124b0022ec14f2 contact Battery']

### ✅ Full Query Performance (0.009s)
- **Status:** PASS
- **Details:** 212 devices, response in 9ms

### ✅ Device Data Shape (0.004s)
- **Status:** PASS
- **Details:** Missing fields: none, status=critical valid=True

### ✅ Subscribe (0.004s)
- **Status:** PASS
- **Details:** subscription_id=sub_6dd38ab843e5, status=subscribed

### ✅ Set Global Threshold 25 (0.005s)
- **Status:** PASS
- **Details:** global_threshold=25

### ✅ Verify Status After Threshold 25 (0.006s)
- **Status:** PASS
- **Details:** statuses={'critical': 16, 'warning': 2, 'healthy': 157, 'unavailable': 37}

### ✅ Set Global Threshold 50 (0.006s)
- **Status:** PASS
- **Details:** global_threshold=50

### ✅ Status With Threshold 50 (0.014s)
- **Status:** PASS
- **Details:** critical=35, warning=13 (expect more critical with t=50)

### ✅ Set Per-Device Rule (0.005s)
- **Status:** PASS
- **Details:** device_rules has 1 rules

### ✅ Reset Threshold to 15 (0.012s)
- **Status:** PASS
- **Details:** global_threshold=15

### ✅ Query limit=100 (0.015s)
- **Status:** PASS
- **Details:** Returned 100 devices

### ✅ Zero Battery Devices (0.011s)
- **Status:** PASS
- **Details:** Found 45 devices at 0%

### ✅ Unavailable Devices (0.01s)
- **Status:** PASS
- **Details:** Found 37 unavailable devices

## Verdict

**PASS** — All tests passed.

### Key Findings
- Integration loads and operates correctly on HA 2026.2.2
- WebSocket commands respond correctly
- 212 battery entities discovered and queryable
- Threshold configuration works with live status recalculation
- Subscription mechanism functional

---
*Generated by Loki QA Agent*
